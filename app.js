(()=>{"use strict";var t,e={512:(t,e,s)=>{var i=s(260),o=s.n(i);class n extends o().Scene{constructor(){super("PreloadScene")}preload(){this.load.image("demon","assets/LittleDemon.png"),this.load.image("sky","assets/sky.png"),this.load.image("cloud","assets/Cloud.png")}create(){this.scene.start("MenuScene")}}const h=n;class r extends o().Scene{constructor(t,e){super(t),this.config=e,this.fontSize=54,this.lineHeight=62,this.fontOptions={fontSize:`${this.fontSize}px`,fill:"#fff"},this.screenCenter=[e.width/2,e.height/2]}create(){this.add.image(0,0,"sky").setOrigin(0)}createMenu(t,e){let s=0;t.forEach((t=>{const i=[this.screenCenter[0],this.screenCenter[1]+s];t.textGO=this.add.text(...i,t.text,this.fontOptions).setOrigin(.5,1),s+=this.lineHeight,e(t)}))}}const a=r;const c=class extends a{constructor(t){super("MenuScene",t),this.menu=[{scene:"PlayScene",text:"Play"},{scene:null,text:"Exit"}]}create(){super.create(),this.createMenu(this.menu,this.setupMenuEvents.bind(this)),this.createTitle()}setupMenuEvents(t){const e=t.textGO;e.setInteractive(),e.on("pointerover",(()=>{e.setStyle({fill:"#ff0"})})),e.on("pointerout",(()=>{e.setStyle({fill:"#fff"})})),e.on("pointerup",(()=>{t.scene&&this.scene.start(t.scene),"Exit"===t.text&&this.game.destroy(!0)}))}createTitle(){this.titleText=this.add.text(.5*this.config.width,.2*this.config.height,"HELL ESCAPE",{fontSize:"85px",fill:"#000"}).setOrigin(.5,0)}};const l=class extends a{constructor(t){super("PlayScene",t),this.demon,this.platHorizontalDistanceRange=[.6*this.config.width,.9*this.config.width],this.platVerticalDistanceRange=[.2*this.config.height,.3*this.config.height],this.jumpVelocity=500,this.moveSpeed=200,this.platformSpeed=75,this.score=0}create(){this.createBG(),this.createDemon(),this.handleInputs(),this.createPlatforms(),this.createScore()}update(){this.recyclePlatforms(),this.checkGameStatus()}handleInputs(){this.input.keyboard.on("keydown-SPACE",this.jump,this),this.input.keyboard.on("keydown-D",this.right,this),this.input.keyboard.on("keydown-A",this.left,this),this.input.keyboard.on("keyup-A",this.stop,this),this.input.keyboard.on("keyup-D",this.stop,this)}createBG(){this.add.image(0,0,"sky").setOrigin(0)}createDemon(){this.demon=this.physics.add.sprite(this.config.startPosition.x,this.config.startPosition.y,"demon").setScale(.75).setOrigin(0),this.demon.body.gravity.y=600,this.demon.setCollideWorldBounds(!0)}createPlatforms(){this.platforms=this.physics.add.group();this.platforms.create(.5*this.config.width,.7*this.config.height,"cloud").setScale(1.5).setImmovable(!0);for(let t=0;t<4;t++){const t=this.platforms.create(0,600,"cloud").setScale(1.5).setImmovable(!0).setOrigin(0,1),e=this.platforms.create(0,600,"cloud").setScale(1.5).setImmovable(!0).setOrigin(0,0);this.placePlatform(t,e)}this.physics.add.collider(this.demon,this.platforms),this.platforms.setVelocityY(this.platformSpeed)}checkGameStatus(){this.demon.getBounds().bottom>=this.config.height&&this.gameOver()}gameOver(){this.physics.pause(),this.demon.setTint(15616036),this.saveBestScore(),this.scoreText.setFontSize("72px"),this.bestScoreText.setFontSize("40px"),this.scoreText.setPosition(.22*this.config.width,.4*this.config.height),this.bestScoreText.setPosition(.25*this.config.width,.5*this.config.height),this.playAgainText=this.add.text(.5*this.config.width,.7*this.config.height,"PLAY AGAIN",{fontSize:"92px",fill:"#095"}).setOrigin(.5,1).setInteractive(),this.playAgainText.on("pointerover",(()=>{this.playAgainText.setStyle({fill:"#000"}),this.playAgainText.setColor("#000")})),this.playAgainText.on("pointerout",(()=>{this.playAgainText.setStyle({fill:"#095"})})),this.playAgainText.on("pointerup",(()=>{this.score=0,this.platformSpeed=75,this.scene.restart()}))}placePlatform(t,e){const s=this.getHighestPlatform(),i=o().Math.Between(...this.platHorizontalDistanceRange),n=o().Math.Between(-50,50),h=o().Math.Between(...this.platVerticalDistanceRange);t.y=s-h,t.x=n,e.y=t.y,e.x=t.x+i,this.platforms.setVelocityY(this.platformSpeed)}recyclePlatforms(){const t=[];this.platforms.getChildren().forEach((e=>{e.getBounds().bottom>=this.config.height&&(t.push(e),2===t.length&&(this.placePlatform(...t),this.increaseScore(),this.saveBestScore()))}))}increaseScore(){this.score++,this.scoreText.setText(`Score: ${this.score}`),this.score%5==0&&(this.platformSpeed=75+this.score/5*25),console.log("current platform speed is: "+this.platformSpeed)}getHighestPlatform(){let t=1e3;return this.platforms.getChildren().forEach((function(e){t=Math.min(e.y,t)})),t}jump(){this.demon.body.touching.down&&(this.demon.body.velocity.y=-this.jumpVelocity)}right(){this.demon.body.velocity.x=this.moveSpeed}left(){this.demon.body.velocity.x=-this.moveSpeed}stop(){this.demon.body.velocity.x=0}createScore(){const t=localStorage.getItem("bestScore");this.scoreText=this.add.text(.65*this.config.width,.03*this.config.height,"Score: 0",{fontSize:"32px",fill:"#000"}),this.bestScoreText=this.add.text(.67*this.config.width,.07*this.config.height,`Best score: ${t||0}`,{fontSize:"18px",fill:"#000"})}saveBestScore(){const t=localStorage.getItem("bestScore"),e=t&&parseInt(t,10);(!e||this.score>e)&&localStorage.setItem("bestScore",this.score)}},d={width:600,height:800,startPosition:{x:270,y:400}},p=[h,c,l],f=t=>new t(d),g={type:o().AUTO,...d,physics:{default:"arcade",arcade:{debug:!0}},scene:p.map(f)};new(o().Game)(g)}},s={};function i(t){var o=s[t];if(void 0!==o)return o.exports;var n=s[t]={exports:{}};return e[t](n,n.exports,i),n.exports}i.m=e,t=[],i.O=(e,s,o,n)=>{if(!s){var h=1/0;for(l=0;l<t.length;l++){for(var[s,o,n]=t[l],r=!0,a=0;a<s.length;a++)(!1&n||h>=n)&&Object.keys(i.O).every((t=>i.O[t](s[a])))?s.splice(a--,1):(r=!1,n<h&&(h=n));if(r){t.splice(l--,1);var c=o();void 0!==c&&(e=c)}}return e}n=n||0;for(var l=t.length;l>0&&t[l-1][2]>n;l--)t[l]=t[l-1];t[l]=[s,o,n]},i.n=t=>{var e=t&&t.__esModule?()=>t.default:()=>t;return i.d(e,{a:e}),e},i.d=(t,e)=>{for(var s in e)i.o(e,s)&&!i.o(t,s)&&Object.defineProperty(t,s,{enumerable:!0,get:e[s]})},i.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),(()=>{var t={143:0};i.O.j=e=>0===t[e];var e=(e,s)=>{var o,n,[h,r,a]=s,c=0;if(h.some((e=>0!==t[e]))){for(o in r)i.o(r,o)&&(i.m[o]=r[o]);if(a)var l=a(i)}for(e&&e(s);c<h.length;c++)n=h[c],i.o(t,n)&&t[n]&&t[n][0](),t[n]=0;return i.O(l)},s=self.webpackChunkaltudemypackage=self.webpackChunkaltudemypackage||[];s.forEach(e.bind(null,0)),s.push=e.bind(null,s.push.bind(s))})();var o=i.O(void 0,[736],(()=>i(512)));o=i.O(o)})();